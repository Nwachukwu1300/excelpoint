# Task ID: 21
# Title: Add basic Settings page for user profile + theme preferences
# Status: pending
# Dependencies: None
# Priority: high
# Description: Create a simple settings page where a user can edit their name and choose a theme (light/dark). Theme is stored in user profile or session.
# Details:
Backend: add route/view/form to edit first_name, last_name and select theme. Frontend: create templates/users/settings.html; add basic UI with save. Integrate theme into base template via a body class and CSS variables. Provide sensible defaults and persistence.

# Test Strategy:
Manual QA: update name; toggle theme and verify persistence across pages; ensure logout/login keeps the saved theme.

# Subtasks:
## 1. Add theme field to user profile (or session fallback) [pending]
### Dependencies: None
### Description: Add a simple string field 'theme' with values ['light','dark'] to User or UserProfile; default 'light'. Provide migration.
### Details:
Prefer extending existing profile model if present; else add to User model. Fallback to session if not modifying DB.

## 2. Create settings page route, view, and form [pending]
### Dependencies: None
### Description: Add URL `/users/settings/`, a view to render/update settings, and a simple Django form (name, theme).
### Details:
Update users/urls.py; add SettingsView (LoginRequired). Use POST for updates; show success message.

## 3. Apply theme to UI via base template [pending]
### Dependencies: None
### Description: Add body class based on user theme and load CSS variables for light/dark.
### Details:
Update templates/base.html to set body class like `theme-dark` or `theme-light`. Extend styles.css with two variable blocks for each theme.

## 4. Basic theme toggle UI [pending]
### Dependencies: None
### Description: Add a small toggle/switch in navbar dropdown and on settings page to change theme.
### Details:
Use a form POST or AJAX; update session immediately for instant feedback; persist to DB for logged-in users.

## 5. Add light and dark CSS variable sets [pending]
### Dependencies: None
### Description: Extend styles.css with :root.theme-light and :root.theme-dark vars for background, surface, text, and accent colors.
### Details:
Keep it minimal and accessible (contrast AA+). Only variables, not full re-theme.

